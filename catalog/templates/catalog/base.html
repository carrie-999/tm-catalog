{% load static i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}TM Katalog{% endblock %}</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
    crossorigin="anonymous"
  >

  <!-- Your custom styles -->
  <link href="{% static 'catalog/css/style.css' %}" rel="stylesheet">
  <!-- Canva CSS -->
  <link href="{% static 'catalog/css/canva-1.css' %}" rel="stylesheet">
  <link href="{% static 'catalog/css/canva-2.css' %}" rel="stylesheet">
  <link href="{% static 'catalog/css/canva-3.css' %}" rel="stylesheet">
  <link href="{% static 'catalog/css/canva-4.css' %}" rel="stylesheet">
  <link href="{% static 'catalog/css/canva-5.css' %}" rel="stylesheet">
  <link href="{% static 'catalog/css/canva-6.css' %}" rel="stylesheet">
  <link href="{% static 'catalog/css/canva-7.css' %}" rel="stylesheet">
  <link href="{% static 'catalog/css/canva-8.css' %}" rel="stylesheet">
</head>
<body class="bg-dark text-light">

  <nav class="bg-[#121212] text-white p-4 shadow-md">
    <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
      <div class="flex items-center mb-4 md:mb-0">
        <!-- svg logo bez zmian -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-[#1abc9c]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 12l2 2 4-4m5.618-4.016A11.955 …"></path>
        </svg>
        <span class="ml-2 text-xl font-bold" data-lang-key="title">{% trans "Katalog TM" %}</span>
      </div>

      <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6">
        <!-- Stałe linki strony -->
        <a href="{% url 'catalog:list' %}" class="nav-link active-nav" data-lang-key="home">{% trans "Strona główna" %}</a>
        {% if user.is_authenticated %}
          <a href="{% url 'catalog:register' %}" class="nav-link" data-lang-key="register-name">{% trans "Zarejestruj nazwę" %}</a>
        {% endif %}

        <!-- Language switcher -->
        <form action="{% url 'set_language' %}" method="post" class="d-flex">
          {% csrf_token %}
          {% get_available_languages as LANGUAGES %}
          <select name="language" onchange="this.form.submit()"
                  class="form-select form-select-sm bg-[#121212] text-white border-0">
            {% for lang_code, lang_name in LANGUAGES %}
              <option value="{{ lang_code }}" {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>
                {{ lang_name }}
              </option>
            {% endfor %}
          </select>
        </form>

        <!-- Auth -->
        {% if user.is_authenticated %}
          <div id="user-profile" class="flex items-center space-x-2">
            <div class="w-8 h-8 rounded-full bg-[#1abc9c] flex items-center justify-center text-white font-bold"
                 id="user-avatar">{{ user.username|slice:":1"|upper }}</div>
            <span id="username-display">{{ user.username }}</span>
            <a href="{% url 'logout' %}"
               class="text-sm text-red-400 hover:text-red-500"
               data-lang-key="logout">{% trans "Wyloguj" %}</a>
          </div>
        {% else %}
          <div id="auth-buttons" class="flex space-x-2">
            <a href="{% url 'login' %}"
               class="btn-primary px-4 py-2 rounded-md"
               data-lang-key="login">{% trans "Zaloguj się" %}</a>
            <a href="{% url 'catalog:register' %}"
               class="btn-secondary px-4 py-2 rounded-md"
               data-lang-key="register">{% trans "Zarejestruj się" %}</a>
          </div>
        {% endif %}
      </div>
    </div>
  </nav>

  <div class="container py-4">
    {% block content %}{% endblock %}
  </div>

  <!-- Bootstrap JS bundle (includes Popper) -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoA7VHU5awsuZVVFIhvj0RXV3zV9zzTtmI3UksdQRVvoxMfoo"
    crossorigin="anonymous"
  ></script>
</body>
</html>
